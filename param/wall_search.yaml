
wall_features:
  leaf_size:  0.02
  debug: true
  k_search_pointwise:   30
  k_search_histogram:   70
  # bin options
  automatically_set_bins:   true
  lower_angle_bin_limit:  0.0
  upper_angle_bin_limit:  0.15
  lower_dist_bin_limit:   0.2
  upper_dist_bin_limit:   0.1
  # ----- input options ----- 
  input_from_bag:    false
  # custom cloud generation options
  min_x:    0.0
  max_x:    1.0
  min_y:    1
  max_y:    1
  min_z:    0.0
  max_z:    1.0
  x_range:  0.01
  y_range:  0.01
  z_range:  0.01
  # bag input options
  bag_name:     "stitched_pointcloud_1.bag"

primitive_search:
  primitive_search:
    min_cloud_size:       50
    # NOTE - task names in task_list below MUST match the subheadings under the tasks heading
    task_list:            [ wall ]
    plane_options:
      max_iterations:   50
      dist_threshold:   0.1       
    cylinder_options:
      max_iterations:   50
      dist_threshold:   0.005
    map_offset:     [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
    tasks:
      wall:
        type:                   5     # Planar Segmentation
        max_iterations:         500
        dist_threshold:         0.1     
        should_publish:         true
        publish_topic:          wall
        should_publish_r:       true
        publish_topic_r:        wall_less
        remove_cloud:           true
        # Additional parameters (not in normal pcl_process yaml task structure):
        angle_threshold:        5                  # degrees
        offset_threshold:       0.06                # meteres
        check_orientation:      false
        check_distance:         false
        expected_coefficients:  [0.0, 1.0, 0.0, 1.0] #[0.0, 1.0, 0.0, 1.37]
          # +/- thickness, +/- horizontal, +/- other 
        clip_boundaries:        [-1, 1, -2.0, 2.0, -3, 3] #[-0.2, 0.2, -10.0, 10.0, -0.3, 5.0] 